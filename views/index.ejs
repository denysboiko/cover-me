<!DOCTYPE html>
<html>
<head>
    <title>Cover Me</title>


    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <!--<script src="http://fgnass.github.io/spin.js/spin.min.js"></script>-->
    <script src="/js/jquery-1.8.3.min.js"></script>
    <script src="/js/emerge.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="jquery-ias.min.js"></script>
    <script src="/js/typeahead.min.js"></script>
    <!--<script>
        var opts = {
            lines: 13, // The number of lines to draw
            length: 20, // The length of each line
            width: 10, // The line thickness
            radius: 30, // The radius of the inner circle
            corners: 1, // Corner roundness (0..1)
            rotate: 0, // The rotation offset
            direction: 1, // 1: clockwise, -1: counterclockwise
            color: '#000', // #rgb or #rrggbb or array of colors
            speed: 1, // Rounds per second
            trail: 60, // Afterglow percentage
            shadow: false, // Whether to render a shadow
            hwaccel: false, // Whether to use hardware acceleration
            className: 'spinner', // The CSS class to assign to the spinner
            zIndex: 2e9, // The z-index (defaults to 2000000000)
            top: '50%', // Top position relative to parent
            left: '50%' // Left position relative to parent
        };
        var target = document.getElementById('covers');
        var spinner = new Spinner(opts).spin(target);
    </script>-->

    <script>
        var ias = $.ias({
            container:  '#covers',
            item:       '.cover',
            pagination: '#pagination',
            next:       '.next'
        });

        ias.extension(new IASSpinnerExtension());
    </script>





    <!-- Bootstrap -->
    <link href="/bootstrap/css/bootstrap.css" rel="stylesheet">
    <link rel='stylesheet' href='/css/style.css'/>

    <link rel="shortcut icon" href="favicon.ico"/>







    <script type="text/javascript">
        $(document).ready(function(){
            $('#searchBox').typeahead({
                name: 'Search',
                //prefetch: 'countries.json'
                remote: '/auto?q=%QUERY'
                //limit: 30
            });
        });
    </script>

    <style type="text/css">
        .bs-example{
            font-family: sans-serif;
            position: relative;
            margin: 100px;
        }
            /* .tt-query, .tt-hint {
                border: 2px solid #CCCCCC;
                font-size: 24px;
                height: 30px;
                line-height: 30*px;
                outline: medium none;
                padding: 8px 12px;
                width: 396px;
            }
            .typeahead {
                background-color: #FFFFFF;
            }
            .typeahead:focus {
                border: 2px solid #0097CF;
            }*/

        .tt-hint {
            color: #999999;
        }
        .tt-dropdown-menu {
            background-color: #FFFFFF;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
            margin-top: 12px;
            padding: 8px 0;
            width: 422px;
        }
        .tt-suggestion {
            font-size: 24px;
            line-height: 24px;
            padding: 3px 20px;
        }
        .tt-suggestion.tt-is-under-cursor {
            background-color: #0097CF;
            color: #FFFFFF;
        }
        .tt-suggestion p {
            margin: 0;
        }
    </style>
</head>
<body>
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-55360284-1', 'auto');
    ga('send', 'pageview');

</script>

<!-- Modal -->

<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span
                            class="sr-only">Close</span></button>
                <h4 class="modal-title" id="myModalLabel">Album title</h4>
            </div>
            <div class="modal-body">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <a href="" class="btn btn-primary" role="button" download="img.jpg">Download <span class="glyphicon glyphicon-download"></span></a>
            </div>
        </div>
    </div>
</div>

<% include header %>


<div class="container" id="container" style="">

    <% if (cvrs.length) { %>
    <ul class="row" id="covers" style="width: 100%; margin: 0">

        <% cvrs.forEach(function(cover){ %>
        <li class="col-md-2 col-sm-3 col-xs-4 col-lg-2 cover">

            <figure class="cover-item emerge"><img class="emerge" alt="<%= cover.get('album') %>" src="<%= cover.get('sPicture') %>"
                                            bigimg="<%= cover.get('bPicture') %>">
                <figcaption><span class="album-title"><%= cover.get('album') %></span><br>
                    by <span class="artist-name"><%= cover.get('artist') %></span></figcaption>

            </figure>
        </li>
        <% }) %>


    </ul>
    <% } %>
    <div class="ias-spinner" style="background: #fff;padding: 15px 0px;margin:0"><img src="Preloader_7.gif" style="margin: 0 auto;"/></div>
    <% include pagination %>

</div>
<script>
    $(document).on('click', '.cover img', function () {
        var src = $(this).attr('bigimg');
        var img = '<img src="' + src + '" class="img-responsive main-cover"/>';
        var album = $(this).attr('alt');

        $('#myModal').modal();
        $('#myModal').on('shown.bs.modal', function () {
            $('#myModal #myModalLabel').html(album);
            $('#myModal .modal-body').html(img);
            $('#myModal .modal-footer a').attr("href", src);
        });
        $('#myModal').on('hidden.bs.modal', function () {
            $('#myModal #myModalLabel').html('Album Title');
            $('#myModal .modal-body').html('');
            $('#myModal .modal-footer a').attr("href", "#");
        });
    });
</script>
</body>
</html>